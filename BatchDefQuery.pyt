# -*- coding: utf-8 -*-import arcpyclass Toolbox:    def __init__(self):        """Define the toolbox (the name of the toolbox is the name of the        .pyt file)."""        self.label = "Toolbox"        self.alias = "toolbox"        # List of tool classes associated with this toolbox        self.tools = [Tool]class Tool:    def __init__(self):        """Define the tool (tool name is the name of the class)."""        self.label = "Batch Query"        self.description = ""    def getParameterInfo(self):        """Define the tool parameters."""        input1 = arcpy.Parameter(            displayName="Layers",            name="layer_names",            datatype="GPFeatureLayer",            parameterType="Required",            direction="Input")        input1.multiValue = True        input2 = arcpy.Parameter(            displayName="SQL Expression",            name="where_clause",            datatype="GPSQLExpression",            parameterType="Required",            direction="Input")                input2.parameterDependencies = [input1.name]                        params = [input1, input2]        return params    def isLicensed(self):        """Set whether the tool is licensed to execute."""        return True    def updateParameters(self, parameters):        """Modify the values and properties of parameters before internal        validation is performed.  This method is called whenever a parameter        has been changed."""        return    def updateMessages(self, parameters):        """Modify the messages created by internal validation for each tool        parameter. This method is called after internal validation."""        return    def execute(self, params, messages):        """The source code of the tool."""        import arcpy        # Get input parameters from script tool        layer_names = params[0].valueAsText  # Multiple layer names (semicolon-separated)        where_clause = params[1].valueAsText  # Custom WHERE clause        # Access the current ArcGIS Pro project        aprx = arcpy.mp.ArcGISProject("CURRENT")        # Get the first map (modify if needed)        map_obj = aprx.listMaps()[0]        # Convert input string to a list of layer names        layer_list = layer_names.split(";")        # Apply definition query to each layer        for layer_name in layer_list:            layer_name = layer_name.strip()            layer = None                # Find the layer in the map            for lyr in map_obj.listLayers():                if lyr.name == layer_name:                    layer = lyr                    break            if layer is None:                arcpy.AddWarning(f"Layer '{layer_name}' not found in the project. Skipping...")                continue            try:                arcpy.AddMessage(f"Applying definition query to: {layer_name} ...")                layer.definitionQuery = where_clause                arcpy.AddMessage(f"Definition query applied: {where_clause}")            except Exception as e:                arcpy.AddError(f"Error processing {layer_name}: {str(e)}")        arcpy.AddMessage("Definition query applied successfully!")        return    def postExecute(self, parameters):        """This method takes place after outputs are processed and        added to the display."""        return